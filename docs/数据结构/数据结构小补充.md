# **C++ å¼‚å¸¸å¤„ç†ç¬”è®°**---è‡ªå·±åŠ çš„, å¯ä»¥çœ‹ä¸€çœ‹å¤§æ¦‚

#### **1. å¼‚å¸¸çš„æ¦‚å¿µ**

å¼‚å¸¸ï¼ˆExceptionï¼‰æŒ‡ç¨‹åºè¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯ï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒã€‚C++ ä½¿ç”¨ `try-catch` æœºåˆ¶æ¥æ•è·å¹¶å¤„ç†å¼‚å¸¸ï¼Œæé«˜ç¨‹åºçš„ç¨³å®šæ€§å’Œå¥å£®æ€§ã€‚

------

#### **2. å¼‚å¸¸çš„åŸºæœ¬è¯­æ³•**

C++ ä½¿ç”¨ `throw` å…³é”®å­—æŠ›å‡ºå¼‚å¸¸ï¼Œ`catch` ä»£ç å—æ•è·å¼‚å¸¸ï¼Œå¹¶åœ¨ `try` ä»£ç å—ä¸­æ‰§è¡Œå¯èƒ½å‡ºé”™çš„ä»£ç ã€‚

```
try {
    // å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„ä»£ç 
} catch (å¼‚å¸¸ç±»å‹ å˜é‡) {
    // å¤„ç†å¼‚å¸¸
}
```

------

#### **3. æŠ›å‡ºå¼‚å¸¸ï¼ˆthrowï¼‰**

ä½¿ç”¨ `throw` å…³é”®å­—æŠ›å‡ºå¼‚å¸¸ï¼š

```
throw 100;                      // æŠ›å‡º int ç±»å‹å¼‚å¸¸
throw "é”™è¯¯ä¿¡æ¯";               // æŠ›å‡º C é£æ ¼å­—ç¬¦ä¸²
throw std::runtime_error("é”™è¯¯"); // æŠ›å‡ºæ ‡å‡†å¼‚å¸¸
```

**æ³¨æ„ï¼š** `throw` ä¹‹åçš„ä»£ç ä¸ä¼šè¢«æ‰§è¡Œï¼Œç¨‹åºä¼šè·³è½¬åˆ° `catch` ä»£ç å—ã€‚

------

#### **4. æ•è·å¼‚å¸¸ï¼ˆcatchï¼‰**

##### **4.1 æ•è·ç‰¹å®šç±»å‹çš„å¼‚å¸¸**

```
try {
    throw 404;
} catch (int e) { // åªæ•è· int ç±»å‹å¼‚å¸¸
    std::cout << "æ•è·æ•´æ•°å¼‚å¸¸: " << e << std::endl;
}
```

##### **4.2 æ•è·æ‰€æœ‰å¼‚å¸¸**

ä½¿ç”¨ `catch(...)` æ•è·**æ‰€æœ‰æœªåŒ¹é…çš„å¼‚å¸¸**ï¼š

```
try {
    throw 3.14;
} catch (...) {
    std::cout << "æ•è·æœªçŸ¥å¼‚å¸¸ï¼" << std::endl;
}
```

é€‚ç”¨äºä¸å…³å¿ƒå…·ä½“å¼‚å¸¸ç±»å‹çš„æƒ…å†µã€‚

------

##### **5. C++ æ ‡å‡†å¼‚å¸¸ç±»**

C++ æä¾›äº†ä¸€ç³»åˆ—æ ‡å‡†å¼‚å¸¸ç±»ï¼ˆä½äº `<stdexcept>` å¤´æ–‡ä»¶ï¼‰ï¼Œè¿™äº›å¼‚å¸¸ç±»ç»§æ‰¿è‡ª `std::exception`ï¼Œå¯ç”¨äºä¸åŒåœºæ™¯ï¼š

| å¼‚å¸¸ç±»                  | è¯´æ˜                             |
| ----------------------- | -------------------------------- |
| `std::exception`        | C++ æ‰€æœ‰æ ‡å‡†å¼‚å¸¸çš„åŸºç±»           |
| `std::runtime_error`    | è¿è¡Œæ—¶é”™è¯¯ï¼ˆå¦‚é™¤é›¶ã€æ–‡ä»¶æœªæ‰¾åˆ°ï¼‰ |
| `std::logic_error`      | é€»è¾‘é”™è¯¯ï¼ˆå¦‚éæ³•å‚æ•°ï¼‰           |
| `std::invalid_argument` | å‚æ•°æ— æ•ˆ                         |
| `std::out_of_range`     | æ•°ç»„æˆ–å®¹å™¨è®¿é—®è¶Šç•Œ               |
| `std::length_error`     | åˆ›å»ºè¶…é•¿çš„ `std::string` æˆ–å®¹å™¨  |
| `std::overflow_error`   | ç®—æœ¯è¿ç®—æº¢å‡º                     |
| `std::underflow_error`  | ç®—æœ¯è¿ç®—ä¸‹æº¢                     |

------

##### **6. ä½¿ç”¨æ ‡å‡†å¼‚å¸¸**

**ç¤ºä¾‹ 1ï¼š`std::runtime_error`**

```
#include <iostream>
#include <stdexcept>

int main() {
    try {
        throw std::runtime_error("è¿è¡Œæ—¶é”™è¯¯ï¼");
    } catch (const std::runtime_error& e) {
        std::cout << "æ•è·å¼‚å¸¸: " << e.what() << std::endl;
    }
    return 0;
}
```

**è¾“å‡ºï¼š**

```
æ•è·å¼‚å¸¸: è¿è¡Œæ—¶é”™è¯¯ï¼
```

**ç¤ºä¾‹ 2ï¼š`std::out_of_range`**

```
#include <iostream>
#include <stdexcept>

int main() {
    try {
        throw std::out_of_range("è®¿é—®è¶Šç•Œï¼");
    } catch (const std::out_of_range& e) {
        std::cout << "æ•è·å¼‚å¸¸: " << e.what() << std::endl;
    }
    return 0;
}
```

------

#### **7. è‡ªå®šä¹‰å¼‚å¸¸**

##### **7.1 åˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸**

å¯ä»¥ç»§æ‰¿ `std::exception` å¹¶é‡å†™ `what()` æ–¹æ³•ï¼š

```
#include <iostream>
#include <exception>

class MyException : public std::exception {
public:
    const char* what() const noexcept override {
        return "è‡ªå®šä¹‰å¼‚å¸¸ï¼šå‘ç”Ÿé”™è¯¯ï¼";
    }
};

int main() {
    try {
        throw MyException();
    } catch (const MyException& e) {
        std::cout << "æ•è·å¼‚å¸¸: " << e.what() << std::endl;
    }
    return 0;
}
```

##### **7.2 åœ¨å‡½æ•°ä¸­æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸**

```
#include <iostream>
#include <stdexcept>

void checkValue(int x) {
    if (x < 0) {
        throw std::invalid_argument("å€¼ä¸èƒ½ä¸ºè´Ÿæ•°ï¼");
    }
}

int main() {
    try {
        checkValue(-5);
    } catch (const std::exception& e) {
        std::cout << "æ•è·å¼‚å¸¸: " << e.what() << std::endl;
    }
    return 0;
}
```

------

#### **8. æ„é€ å‡½æ•°ä¸­æŠ›å‡ºå¼‚å¸¸**

**å¦‚æœæ„é€ å‡½æ•°æŠ›å‡ºå¼‚å¸¸ï¼Œå¯¹è±¡ä¸ä¼šè¢«åˆ›å»ºï¼**

```
#include <iostream>
#include <stdexcept>

class Test {
public:
    Test() {
        throw std::runtime_error("æ„é€ å‡½æ•°å‡ºé”™ï¼");
    }
};

int main() {
    try {
        Test obj;
    } catch (const std::exception& e) {
        std::cout << "æ•è·å¼‚å¸¸: " << e.what() << std::endl;
    }
    return 0;
}
```

**è¾“å‡ºï¼š**

```
æ•è·å¼‚å¸¸: æ„é€ å‡½æ•°å‡ºé”™ï¼
```

------

#### **9. å¼‚å¸¸çš„ä¼ æ’­**

å¼‚å¸¸ä¼šæ²¿**è°ƒç”¨æ ˆå‘ä¸Šä¼ æ’­**ï¼Œç›´åˆ°è¢« `catch` å¤„ç†ï¼š

```
#include <iostream>
#include <stdexcept>

void func() {
    throw std::runtime_error("å‡½æ•°å†…éƒ¨é”™è¯¯ï¼");
}

int main() {
    try {
        func(); // å‘ç”Ÿå¼‚å¸¸ï¼Œè·³è½¬åˆ° catch
    } catch (const std::runtime_error& e) {
        std::cout << "æ•è·å¼‚å¸¸: " << e.what() << std::endl;
    }
    return 0;
}
```

------

#### **10. å¼‚å¸¸å¤„ç†çš„æœ€ä½³å®è·µ**

âœ… **ä¼˜å…ˆä½¿ç”¨æ ‡å‡†å¼‚å¸¸ç±»**ï¼ˆå¦‚ `std::runtime_error`ã€`std::invalid_argument`ï¼‰
 âœ… **åªåœ¨å¿…è¦æ—¶ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸**ï¼Œé¿å…æ»¥ç”¨
 âœ… **ææ„å‡½æ•°ä¸åº”æŠ›å‡ºå¼‚å¸¸**ï¼Œå¦åˆ™ä¼šå¯¼è‡´ `std::terminate()` ç»ˆæ­¢ç¨‹åº
 âœ… **`catch` è¯­å¥åº”ä»**å…·ä½“ç±»å‹**åˆ°**åŸºç±»ç±»å‹**æ’åº
 âœ… **é¿å…æ— æ„ä¹‰çš„ `catch(...)`ï¼Œå¯èƒ½éšè—é—®é¢˜**

------

#### **11. æ€»ç»“**

1. `throw` ç”¨äºæŠ›å‡ºå¼‚å¸¸ï¼Œ`try-catch` ç”¨äºæ•è·å¼‚å¸¸ã€‚
2. `catch(...)` å¯ä»¥æ•è·æ‰€æœ‰å¼‚å¸¸ï¼Œä½†ä¸æ¨èæ»¥ç”¨ã€‚
3. C++ æ ‡å‡†åº“æä¾›äº†**ä¸°å¯Œçš„å¼‚å¸¸ç±»**ï¼Œåº”ä¼˜å…ˆä½¿ç”¨ã€‚
4. ç»§æ‰¿ `std::exception` å¯ä»¥**åˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸**ã€‚
5. **å¼‚å¸¸æ²¿è°ƒç”¨æ ˆä¼ æ’­**ï¼Œç›´åˆ°è¢« `catch` å¤„ç†ï¼Œå¦åˆ™ç¨‹åºç»ˆæ­¢ã€‚
6. **æ„é€ å‡½æ•°æŠ›å¼‚å¸¸æ—¶ï¼Œå¯¹è±¡ä¸ä¼šè¢«åˆ›å»ºï¼**
7. **ææ„å‡½æ•°ä¸åº”è¯¥æŠ›å¼‚å¸¸**ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚







# æšä¸¾

**è¡¥å……:æšä¸¾**---**æœ€åä¸€ä¸ª**æšä¸¾ç±»å‹ **ä¸åŠ    é€—å·**
c++ä¸ä»…å¯ä»¥ä½¿ç”¨ ä¼ ç»Ÿçš„ cçš„enum:

```c++
enum Weekday {
    MONDAY,    // é»˜è®¤å€¼ï¼š0
    TUESDAY,   // 1
    WEDNESDAY, // 2
    THURSDAY,  // 3
    FRIDAY,    // 4
    SATURDAY,  // 5
    SUNDAY     // 6
};
```

c++è¿˜æä¾›äº† å¼ºæšä¸¾ç±»:----**é¿å…ä¼ ç»Ÿæšä¸¾çš„å‘½åå†²çªé—®é¢˜**

```c++
enum class Weekday {
    Monday,    // å¿…é¡»é€šè¿‡ Weekday::Monday è®¿é—®
    Tuesday,
    Wednesday,
    Thursday,
    Friday,
    Saturday,
    Sunday
};
```



# 3.åˆå§‹åŒ–åˆ—è¡¨ç±»æ¨¡æ¿

## **`std::initializer_list` ç®€ä»‹**

`std::initializer_list` æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªç±»æ¨¡æ¿ï¼Œå®ƒå…è®¸ä½¿ç”¨**åˆ—è¡¨åˆå§‹åŒ–**çš„æ–¹å¼å‘å‡½æ•°æˆ–ç±»æ„é€ å‡½æ•°ä¼ é€’ä¸€ç»„å€¼ã€‚å®ƒé€šå¸¸ç”¨äºåˆå§‹åŒ–å®¹å™¨ï¼ˆå¦‚ `std::vector`ã€`std::array`ï¼‰æˆ–è‡ªå®šä¹‰ç±»ã€‚



**è§£æ**

- `std::initializer_list<int>` å…è®¸ç›´æ¥ä½¿ç”¨ `{1, 2, 3, 4, 5}` ä½œä¸ºå‚æ•°ã€‚
- å®ƒå†…éƒ¨ç±»ä¼¼ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨èŒƒå›´ `for` å¾ªç¯éå†ã€‚

```c++
#include <iostream>
#include <initializer_list>

void printValues(std::initializer_list<int> values) {
    for (int value : values) {
        std::cout << value << " ";
    }
    std::cout << std::endl;
}

int main() {
    printValues({1, 2, 3, 4, 5});  // è¾“å‡º: 1 2 3 4 5
    return 0;
}

```





# 4.c++è‡ªå¸¦çš„ äºŒåˆ†æŸ¥æ‰¾å‡½æ•°

`lower_bound` æ˜¯ C++ æ ‡å‡†åº“ `<algorithm>` ä¸­çš„ä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾å‡½æ•°ï¼Œç”¨äºåœ¨**å·²æ’åº**çš„èŒƒå›´å†…æŸ¥æ‰¾ç¬¬ä¸€ä¸ª**ä¸å°äº**ï¼ˆå³å¤§äºæˆ–ç­‰äºï¼‰ç»™å®šå€¼çš„å…ƒç´ ã€‚



åœ¨ C++ æ ‡å‡†åº“ `<algorithm>` ä¸­ï¼ŒäºŒåˆ†æŸ¥æ‰¾ç›¸å…³å‡½æ•°ä¸»è¦æœ‰å››ä¸ªï¼Œå®ƒä»¬éƒ½è¦æ±‚**èŒƒå›´å·²ç»æœ‰åº**ï¼ˆé»˜è®¤å‡åºï¼‰ã€‚ä»¥ä¸‹æ˜¯å®ƒä»¬çš„è¯¦ç»†å¯¹æ¯”å’Œç”¨æ³•è¯´æ˜ï¼š

------

### 1. `std::lower_bound`

**ä½œç”¨**ï¼š
åœ¨æœ‰åºèŒƒå›´å†…æŸ¥æ‰¾ç¬¬ä¸€ä¸ª**ä¸å°äº**ï¼ˆå³ â‰¥ï¼‰ç›®æ ‡å€¼çš„å…ƒç´ ã€‚
**åŸå‹**ï¼š



```
template< class ForwardIt, class T >
ForwardIt lower_bound( ForwardIt first, ForwardIt last, const T& value );
```

**ç¤ºä¾‹**ï¼š



```
vector<int> v = {1, 3, 5, 7, 9};
auto it = lower_bound(v.begin(), v.end(), 4); // æŒ‡å‘ 5
```

**LIS ä¸­çš„åº”ç”¨**ï¼š
ç”¨äºç»´æŠ¤ä¸¥æ ¼é€’å¢åºåˆ—çš„æœ€å°æœ«å°¾å€¼ã€‚

------

### 2. `std::upper_bound`

**ä½œç”¨**ï¼š
æŸ¥æ‰¾ç¬¬ä¸€ä¸ª**å¤§äº**ç›®æ ‡å€¼çš„å…ƒç´ ã€‚
**åŸå‹**ï¼š



```
template< class ForwardIt, class T >
ForwardIt upper_bound( ForwardIt first, ForwardIt last, const T& value );
```

**ç¤ºä¾‹**ï¼š



```
vector<int> v = {1, 3, 3, 5, 7};
auto it = upper_bound(v.begin(), v.end(), 3); // æŒ‡å‘ 5
```

**é€‚ç”¨åœºæ™¯**ï¼š
éä¸¥æ ¼é€’å¢ï¼ˆå…è®¸é‡å¤ï¼‰çš„ LIS é—®é¢˜ã€‚

------

### 3. `std::binary_search`

**ä½œç”¨**ï¼š
ä»…æ£€æŸ¥å€¼æ˜¯å¦å­˜åœ¨ï¼Œè¿”å› `bool`ã€‚
**åŸå‹**ï¼š



```
template< class ForwardIt, class T >
bool binary_search( ForwardIt first, ForwardIt last, const T& value );
```

**ç¤ºä¾‹**ï¼š

cpp

å¤åˆ¶

```
vector<int> v = {1, 3, 5, 7};
bool found = binary_search(v.begin(), v.end(), 5); // true
```

------

### 4. `std::equal_range`

**ä½œç”¨**ï¼š
è¿”å›ä¸€ä¸ªèŒƒå›´ `[first, last)` ä¸­æ‰€æœ‰ç­‰äºç›®æ ‡å€¼çš„å­èŒƒå›´ï¼ˆè¿”å› `pair` è¿­ä»£å™¨ï¼‰ã€‚
**åŸå‹**ï¼š



```
template< class ForwardIt, class T >
std::pair<ForwardIt, ForwardIt>
    equal_range( ForwardIt first, ForwardIt last, const T& value );
```

**ç¤ºä¾‹**ï¼š

```
vector<int> v = {1, 3, 3, 5};
auto [lo, hi] = equal_range(v.begin(), v.end(), 3); 
// lo æŒ‡å‘ç¬¬ä¸€ä¸ª3ï¼Œhi æŒ‡å‘5
```



### C++ äºŒåˆ†æŸ¥æ‰¾å‡½æ•°å¯¹æ¯”è¡¨

| å‡½æ•°            | è¿”å›å€¼             | æŸ¥æ‰¾æ¡ä»¶                  | å…¸å‹ç”¨é€”                | æ—¶é—´å¤æ‚åº¦ |
| --------------- | ------------------ | ------------------------- | ----------------------- | ---------- |
| `lower_bound`   | è¿­ä»£å™¨             | ç¬¬ä¸€ä¸ª **â‰¥ value** çš„å…ƒç´  | ä¸¥æ ¼é€’å¢ LIS            | O(log n)   |
| `upper_bound`   | è¿­ä»£å™¨             | ç¬¬ä¸€ä¸ª **> value** çš„å…ƒç´  | éä¸¥æ ¼é€’å¢ LIS          | O(log n)   |
| `binary_search` | `bool`             | æ˜¯å¦å­˜åœ¨ **value**        | å¿«é€Ÿå­˜åœ¨æ€§æ£€æŸ¥          | O(log n)   |
| `equal_range`   | `pair<iter, iter>` | æ‰€æœ‰ **== value** çš„èŒƒå›´  | ç»Ÿè®¡é‡å¤å€¼/ç¡®å®šæ’å…¥èŒƒå›´ | O(log n)   |

#### ä½¿ç”¨è¯´æ˜ï¼š
1. **å¿…é¡»é¢„å…ˆæ’åº**ï¼šæ‰€æœ‰å‡½æ•°è¦æ±‚èŒƒå›´æ˜¯**å‡åº**æ’åˆ—ï¼ˆé™¤éæä¾›è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼‰
2. **è‡ªå®šä¹‰æ’åºè§„åˆ™**ï¼š
  
   ```cpp
   // é™åºç¤ºä¾‹
   auto it = lower_bound(v.begin(), v.end(), 4, greater<int>());
   ```







# å¸¸è§ç®—æ³•ä¸æ•°æ®ç»“æ„è‹±æ–‡å•è¯æ±‡æ€»è¡¨

| è‹±æ–‡å•è¯  | ä¸­æ–‡æ„æ€       |
| --------- | -------------- |
| insert    | æ’å…¥           |
| delete    | åˆ é™¤           |
| update    | æ›´æ–°           |
| query     | æŸ¥è¯¢           |
| search    | æœç´¢ã€æŸ¥æ‰¾     |
| find      | æŸ¥æ‰¾ã€æ‰¾åˆ°     |
| add       | æ·»åŠ            |
| remove    | ç§»é™¤ã€åˆ é™¤     |
| count     | è®¡æ•°           |
| node      | èŠ‚ç‚¹           |
| edge      | è¾¹ï¼ˆå›¾è®ºï¼‰     |
| graph     | å›¾ï¼ˆå›¾ç»“æ„ï¼‰   |
| tree      | æ ‘             |
| root      | æ ¹             |
| parent    | çˆ¶èŠ‚ç‚¹         |
| child     | å­èŠ‚ç‚¹         |
| leaf      | å¶å­èŠ‚ç‚¹       |
| depth     | æ·±åº¦           |
| height    | é«˜åº¦           |
| level     | å±‚çº§           |
| traverse  | éå†           |
| path      | è·¯å¾„           |
| value     | å€¼             |
| index     | ç´¢å¼•           |
| range     | èŒƒå›´           |
| stack     | æ ˆ             |
| queue     | é˜Ÿåˆ—           |
| heap      | å †             |
| map       | æ˜ å°„ï¼ˆé”®å€¼å¯¹ï¼‰ |
| set       | é›†åˆ           |
| list      | åˆ—è¡¨           |
| array     | æ•°ç»„           |
| string    | å­—ç¬¦ä¸²         |
| character | å­—ç¬¦           |
| prefix    | å‰ç¼€           |
| suffix    | åç¼€           |
| substring | å­ä¸²           |
| length    | é•¿åº¦           |
| compare   | æ¯”è¾ƒ           |
| sort      | æ’åº           |
| merge     | åˆå¹¶           |
| split     | æ‹†åˆ†ï¼Œåˆ†å‰²     |





# eraseé—®é¢˜

vector deque è¿™ä¸¤ä¸ªçš„ erase åªèƒ½ è¿­ä»£å™¨,  list,mapç›¸å…³, setç›¸å…³å¯ä»¥å€¼,ä¹Ÿå¯ä»¥è¿­ä»£å™¨



# fopenå‡½æ•°

##  `fopen` æ˜¯ä»€ä¹ˆï¼Ÿ

`fopen` æ˜¯ C è¯­è¨€æ ‡å‡†åº“ `<stdio.h>` æä¾›çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥**æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶**ï¼Œå¹¶è¿”å›ä¸€ä¸ª `FILE*` æŒ‡é’ˆï¼Œä½ å¯ä»¥ç”¨è¿™ä¸ªæŒ‡é’ˆè¿›è¡Œè¯»å†™ã€æ ¼å¼åŒ–è¾“å‡ºç­‰æ“ä½œã€‚

------

## ğŸ§ª åŸºæœ¬è¯­æ³•

```
FILE* fopen(const char* filename, const char* mode);

```

- `filename`ï¼šè¦æ‰“å¼€çš„æ–‡ä»¶å
- `mode`ï¼šæ‰“å¼€æ¨¡å¼ï¼ˆè§ä¸‹è¡¨ï¼‰

------

### ğŸ“‹ æ‰“å¼€æ¨¡å¼å¯¹ç…§è¡¨

| æ¨¡å¼     | å«ä¹‰                         | ä¸å­˜åœ¨æ–‡ä»¶æ—¶        |
| -------- | ---------------------------- | ------------------- |
| `"r"`    | åªè¯»                         | æ‰“å¼€å¤±è´¥            |
| `"w"`    | åªå†™ï¼ˆæ¸…ç©ºåŸå†…å®¹ï¼‰           | åˆ›å»ºæ–°æ–‡ä»¶          |
| `"a"`    | è¿½åŠ å†™å…¥ï¼ˆä»æœ«å°¾å†™ï¼‰         | åˆ›å»ºæ–°æ–‡ä»¶          |
| `"r+"`   | è¯»å†™                         | æ‰“å¼€å¤±è´¥            |
| `"w+"`   | è¯»å†™ï¼ˆæ¸…ç©ºåŸå†…å®¹ï¼‰           | åˆ›å»ºæ–°æ–‡ä»¶          |
| `"a+"`   | è¯»å†™ï¼ˆä»æœ«å°¾å†™ï¼‰             | åˆ›å»ºæ–°æ–‡ä»¶          |
| å¯åŠ  `b` | äºŒè¿›åˆ¶æ¨¡å¼ï¼ˆWindows ä¸‹å¸¸ç”¨ï¼‰ | ä¾‹å¦‚ `"rb"`, `"wb"` |

------

## ğŸ§‘â€ğŸ’» ç¤ºä¾‹ä»£ç 

```
#include <stdio.h>

int main() {
    FILE* fp = fopen("hello.txt", "w");  // æ‰“å¼€æˆ–åˆ›å»ºæ–‡ä»¶
    if (fp == NULL) {
        perror("fopen å¤±è´¥");
        return 1;
    }

    fprintf(fp, "Hello, World!\n");      // å†™å…¥æ–‡æœ¬
    fclose(fp);                          // å…³é—­æ–‡ä»¶

    return 0;
}
```

------

## ğŸ” å¸¸é…å¥—å‡½æ•°

| å‡½æ•°                | è¯´æ˜                 |
| ------------------- | -------------------- |
| `fclose(fp)`        | å…³é—­æ–‡ä»¶             |
| `fprintf(fp, ...)`  | å‘æ–‡ä»¶å†™å…¥æ ¼å¼åŒ–å†…å®¹ |
| `fscanf(fp, ...)`   | ä»æ–‡ä»¶è¯»æ ¼å¼åŒ–å†…å®¹   |
| `fgets(buf, n, fp)` | è¯»ä¸€è¡Œæ–‡æœ¬åˆ°ç¼“å†²åŒº   |
| `fread`/`fwrite`    | äºŒè¿›åˆ¶è¯»å†™           |
| `fseek` / `ftell`   | æ§åˆ¶è¯»å†™æŒ‡é’ˆä½ç½®     |

------

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ‰“å¼€å¤±è´¥æ—¶è¿”å› `NULL`**ï¼Œå¿…é¡»ç”¨ `if (fp == NULL)` æ£€æŸ¥ï¼›
2. **ç”¨å®Œè¦ `fclose()`**ï¼Œå¦åˆ™å†…å®¹å¯èƒ½æ²¡å†™å…¥ç£ç›˜ï¼ˆå› ä¸ºæœ‰ç¼“å†²ï¼‰ï¼›
3. Windows ä¸‹è¯»å†™äºŒè¿›åˆ¶æ–‡ä»¶å»ºè®®åŠ  `"b"` æ¨¡å¼ï¼Œæ¯”å¦‚ `"rb"`, `"wb"`ï¼›

------

## ğŸš€ æ–‡ä»¶è¯»å†™å°æŠ€å·§

### è¯»å–æ•´ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼š

```
FILE* fp = fopen("data.txt", "r");
char line[1024];
while (fgets(line, sizeof(line), fp)) {
    printf("%s", line);
}
fclose(fp);
```

------

## ğŸ’¡ å¦‚æœä½ æ˜¯ç”¨ C++ï¼Œå»ºè®®ç”¨ï¼š

```
#include <fstream>
std::ifstream fin("file.txt");
std::string line;
while (std::getline(fin, line)) {
    std::cout << line << std::endl;
}
```





# substrå‡½æ•°

`substr` æ˜¯ C++ çš„ `std::string` æˆå‘˜å‡½æ•°ï¼ˆå®‰å…¨ã€ç°ä»£ã€æ¨èï¼‰

```c++
std::string str = "hello world";
std::string part = str.substr(0, 5);  // "hello"

```



```c++
std::string substr(size_t pos = 0, size_t len = npos) const;
```

pos: èµ·å§‹ä½ç½®

**len: è¦æˆªå–çš„é•¿åº¦ï¼ˆè¶…å‡ºä¹Ÿæ²¡å…³ç³»ï¼‰**





# 9.strtokå‡½æ•°

`strtok` æ˜¯ C çš„å­—ç¬¦ä¸²å¤„ç†å‡½æ•°ï¼ˆæ•ˆç‡é«˜ä½†ä¸å®‰å…¨ï¼Œæ”¹åŠ¨åŸå­—ç¬¦ä¸²ï¼‰

###  ç”¨æ³•ï¼š

```
char str[] = "a,b,c";
char* token = strtok(str, ",");

while (token != nullptr) {
    printf("%s\n", token);
    token = strtok(nullptr, ",");  // ç»§ç»­åˆ†å‰²
}
```

### ğŸ“Œ ç‰¹ç‚¹ï¼š

- ä¼š **ç ´ååŸå­—ç¬¦ä¸²**ï¼ˆä¼šæŠŠ `,` å˜æˆ `\0`ï¼‰ï¼
- æ¯æ¬¡è°ƒç”¨è¿”å›ä¸€ä¸ªå­ä¸²æŒ‡é’ˆ
- å†æ¬¡è°ƒç”¨è¦ä¼  `nullptr`
- çº¿ç¨‹ä¸å®‰å…¨ï¼ˆæœ‰ä¸ªçº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ `strtok_r`ï¼‰

## æƒ³åˆ†å‰²å­—ç¬¦ä¸²ï¼Œæ¨èç”¨ C++ çš„è¿™å‡ ç§æ–¹å¼ï¼š

### 1. `std::getline` + `std::stringstream`ï¼ˆæ ‡å‡†åˆ†å‰²ï¼‰ï¼š

```
cppå¤åˆ¶ç¼–è¾‘std::string str = "a,b,c";
std::stringstream ss(str);
std::string token;

while (std::getline(ss, token, ',')) {
    std::cout << token << "\n";
}
```

### 2. C++20 èµ·æœ‰ `std::ranges::split`ï¼ˆç°ä»£å†™æ³•ï¼‰

æˆ–è€…è‡ªå·±å°è£…æˆå·¥å…·å‡½æ•°ã€‚



# vectorçš„ back

è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ , ä½†æ˜¯å¿…é¡»  **ä¿è¯ vector éç©º, å¦åˆ™ ä¼šæŠ¥é”™**



# å­—ç¬¦ä¸²è½¬æ•°å­—

# å­—ç¬¦ä¸²è½¬æ•°å­—å‡½æ•°å¯¹æ¯”è¡¨

| å‡½æ•°å             | æ‰€å±è¯­è¨€ | è¿”å›ç±»å‹      | æ”¯æŒç±»å‹       | é”™è¯¯å¤„ç† | æ˜¯å¦æ¨è | è¯´æ˜                           |
| ------------------ | -------- | ------------- | -------------- | -------- | -------- | ------------------------------ |
| `atoi(str)`        | C        | `int`         | æ•´æ•°           | æ—        | âŒ        | æœ€ç®€å•ä½†ä¸å®‰å…¨ï¼Œå‹¿ç”¨äºç”Ÿäº§     |
| `atol(str)`        | C        | `long`        | æ•´æ•°           | æ—        | âŒ        | åŒä¸Š                           |
| `atoll(str)`       | C        | `long long`   | æ•´æ•°           | æ—        | âŒ        | åŒä¸Š                           |
| `atof(str)`        | C        | `double`      | æµ®ç‚¹æ•°         | æ—        | âŒ        | åŒä¸Š                           |
| `strtol(str,...)`  | C        | `long`        | æ•´æ•°ï¼ˆå¯è¿›åˆ¶ï¼‰ | è¿”å›æŒ‡é’ˆ | âœ…        | æ›´å®‰å…¨ï¼Œæ”¯æŒé”™è¯¯æ£€æŸ¥ä¸è¿›åˆ¶è½¬æ¢ |
| `strtoll(str,...)` | C        | `long long`   | æ•´æ•°ï¼ˆå¯è¿›åˆ¶ï¼‰ | è¿”å›æŒ‡é’ˆ | âœ…        | åŒä¸Š                           |
| `strtod(str,...)`  | C        | `double`      | æµ®ç‚¹æ•°         | è¿”å›æŒ‡é’ˆ | âœ…        | åŒä¸Š                           |
| `std::stoi(str)`   | C++11+   | `int`         | æ•´æ•°           | æŠ›å‡ºå¼‚å¸¸ | âœ…âœ…       | æ¨è C++ å†™æ³•ï¼Œç±»å‹å®‰å…¨        |
| `std::stol(str)`   | C++11+   | `long`        | æ•´æ•°           | æŠ›å‡ºå¼‚å¸¸ | âœ…âœ…       | åŒä¸Š                           |
| `std::stoll(str)`  | C++11+   | `long long`   | æ•´æ•°           | æŠ›å‡ºå¼‚å¸¸ | âœ…âœ…       | åŒä¸Š                           |
| `std::stof(str)`   | C++11+   | `float`       | æµ®ç‚¹æ•°         | æŠ›å‡ºå¼‚å¸¸ | âœ…âœ…       | åŒä¸Š                           |
| `std::stod(str)`   | C++11+   | `double`      | æµ®ç‚¹æ•°         | æŠ›å‡ºå¼‚å¸¸ | âœ…âœ…       | åŒä¸Š                           |
| `std::stold(str)`  | C++11+   | `long double` | æµ®ç‚¹æ•°         | æŠ›å‡ºå¼‚å¸¸ | âœ…âœ…       | åŒä¸Š                           |





# vectoråˆå§‹åŒ–æ–¹å¼æ±‡æ€»

| æ–¹å¼                    | ç¤ºä¾‹ä»£ç                                       | è¯´æ˜                           |
| ----------------------- | --------------------------------------------- | ------------------------------ |
| ç©º vector               | `std::vector<int> v;`                         | åˆ›å»ºç©º vector                  |
| åˆå§‹åŒ–åˆ—è¡¨              | `std::vector<int> v = {1, 2, 3};`             | æ¨èå†™æ³•ï¼Œç›´æ¥åˆå§‹åŒ–å¤šä¸ªå€¼     |
| æŒ‡å®šå¤§å° + é»˜è®¤å€¼       | `std::vector<int> v(5);`                      | åˆ›å»º 5 ä¸ªå…ƒç´ ï¼Œé»˜è®¤å€¼ä¸º 0      |
| æŒ‡å®šå¤§å° + è‡ªå®šä¹‰åˆå§‹å€¼ | `std::vector<int> v(5, 42);`                  | åˆ›å»º 5 ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå€¼éƒ½æ˜¯ 42   |
| æ‹·è´å¦ä¸€ä¸ª vector       | `std::vector<int> v2(v1);`                    | æ‹·è´æ„é€                        |
| ä»æ•°ç»„æ„é€               | `std::vector<int> v(arr, arr + n);`           | ä»æ•°ç»„åŒºé—´ [arr, arr + n) æ„é€  |
| ä»è¿­ä»£å™¨åŒºé—´æ„é€         | `std::vector<int> v(lst.begin(), lst.end());` | ä»ä»»æ„å®¹å™¨åŒºé—´æ„é€              |













# ğŸ“„ å¸¸ç”¨ C æ–‡ä»¶æ“ä½œå‡½æ•°ï¼ˆ`<stdio.h>`ï¼‰

## ğŸ”“ æ‰“å¼€ä¸å…³é—­æ–‡ä»¶

| å‡½æ•°                                                  | è¯´æ˜                                    |
| ----------------------------------------------------- | --------------------------------------- |
| `FILE* fopen(const char* filename, const char* mode)` | æ‰“å¼€æ–‡ä»¶ï¼Œè¿”å›æ–‡ä»¶æŒ‡é’ˆï¼›å¤±è´¥è¿”å› `NULL` |
| `int fclose(FILE* stream)`                            | å…³é—­æ–‡ä»¶ï¼Œé‡Šæ”¾èµ„æº                      |

**å¸¸è§æ¨¡å¼ï¼š**

| æ¨¡å¼   | å«ä¹‰                                     |
| ------ | ---------------------------------------- |
| `"r"`  | åªè¯»ï¼Œæ–‡ä»¶å¿…é¡»å­˜åœ¨                       |
| `"w"`  | åªå†™ï¼Œè‹¥æ–‡ä»¶å­˜åœ¨ä¼šæ¸…ç©ºï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»º |
| `"a"`  | è¿½åŠ å†™å…¥ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»º               |
| `"rb"` | ä»¥äºŒè¿›åˆ¶æ–¹å¼è¯»                           |
| `"wb"` | ä»¥äºŒè¿›åˆ¶æ–¹å¼å†™                           |

------

## ğŸ“¥ è¯»å–æ–‡ä»¶å†…å®¹

| å‡½æ•°                                                         | è¯´æ˜                       |
| ------------------------------------------------------------ | -------------------------- |
| `char* fgets(char* str, int n, FILE* stream)`                | ä¸€æ¬¡è¯»å–ä¸€è¡Œï¼Œé€‚åˆæ–‡æœ¬æ–‡ä»¶ |
| `int fgetc(FILE* stream)`                                    | è¯»å–ä¸€ä¸ªå­—ç¬¦               |
| `size_t fread(void* ptr, size_t size, size_t count, FILE* stream)` | è¯»å–äºŒè¿›åˆ¶æ•°æ®ï¼ˆå—ï¼‰       |

------

## ğŸ“¤ å†™å…¥æ–‡ä»¶å†…å®¹

| å‡½æ•°                                                         | è¯´æ˜                 |
| ------------------------------------------------------------ | -------------------- |
| `int fputs(const char* str, FILE* stream)`                   | å†™å…¥ä¸€è¡Œæ–‡æœ¬         |
| `int fputc(int char, FILE* stream)`                          | å†™å…¥ä¸€ä¸ªå­—ç¬¦         |
| `size_t fwrite(const void* ptr, size_t size, size_t count, FILE* stream)` | å†™å…¥äºŒè¿›åˆ¶æ•°æ®ï¼ˆå—ï¼‰ |

------

## ğŸ“Œ æ–‡ä»¶æŒ‡é’ˆæ“ä½œ

| å‡½æ•°                                               | è¯´æ˜                   |
| -------------------------------------------------- | ---------------------- |
| `int fseek(FILE* stream, long offset, int origin)` | è®¾ç½®æ–‡ä»¶æŒ‡é’ˆä½ç½®       |
| `long ftell(FILE* stream)`                         | è·å–å½“å‰æ–‡ä»¶æŒ‡é’ˆçš„ä½ç½® |
| `void rewind(FILE* stream)`                        | æ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°å¼€å¤´     |

**`fseek` çš„ `origin` å‚æ•°ï¼š**

| å€¼         | å«ä¹‰         |
| ---------- | ------------ |
| `SEEK_SET` | æ–‡ä»¶å¼€å¤´     |
| `SEEK_CUR` | å½“å‰æŒ‡é’ˆä½ç½® |
| `SEEK_END` | æ–‡ä»¶æœ«å°¾     |

------

## ğŸ§ª åˆ¤æ–­å’Œé”™è¯¯å¤„ç†

| å‡½æ•°                           | è¯´æ˜                        |
| ------------------------------ | --------------------------- |
| `int feof(FILE* stream)`       | åˆ¤æ–­æ˜¯å¦åˆ°è¾¾æ–‡ä»¶æœ«å°¾        |
| `int ferror(FILE* stream)`     | æ£€æŸ¥æ˜¯å¦å‘ç”Ÿè¯»/å†™é”™è¯¯       |
| `void clearerr(FILE* stream)`  | æ¸…é™¤æ–‡ä»¶æµçš„é”™è¯¯æˆ– EOF æ ‡å¿— |
| `void perror(const char* str)` | æ‰“å°æœ€åä¸€æ¬¡æ–‡ä»¶é”™è¯¯ä¿¡æ¯    |

------

### âœ… ç®€å•ä¾‹å­ï¼šè¯»å–æ–‡æœ¬æ–‡ä»¶

```
FILE* file = fopen("data.txt", "r");
if (file) {
    char buffer[100];
    while (fgets(buffer, sizeof(buffer), file)) {
        printf("%s", buffer);
    }
    fclose(file);
}
```





# æ³›å‹ç®—æ³•æ±‚äº¤é›†





åœ¨ C++ ä¸­ï¼Œæ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†å¯ä»¥é€šè¿‡ä½¿ç”¨æ ‡å‡†åº“çš„ç®—æ³•ï¼ˆå¦‚ `std::set_intersection`ï¼‰æ¥å®ç°ã€‚è¿™ä¸ªç®—æ³•æ˜¯ä¸€ä¸ªæ³›å‹ç®—æ³•ï¼Œèƒ½å¤Ÿé€‚ç”¨äºä»»ä½•ç±»å‹çš„å®¹å™¨ï¼Œæ¯”å¦‚ `std::vector`ã€`std::set`ã€`std::list` ç­‰ï¼Œåªè¦å®ƒä»¬çš„å…ƒç´ ç±»å‹æ”¯æŒæ¯”è¾ƒæ“ä½œã€‚

### ä½¿ç”¨ `std::set_intersection` æ±‚äº¤é›†

`std::set_intersection` æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºæ±‚ä¸¤ä¸ªæ’åºå¥½çš„é›†åˆäº¤é›†çš„ç®—æ³•ã€‚å®ƒéœ€è¦è¾“å…¥ä¸¤ä¸ªå·²ç»æ’åºçš„å®¹å™¨ï¼Œå¹¶å°†äº¤é›†çš„ç»“æœè¾“å‡ºåˆ°ä¸€ä¸ªç›®æ ‡å®¹å™¨ä¸­ã€‚

### ç¤ºä¾‹ä»£ç ï¼š

```
#include <iostream>
#include <vector>
#include <algorithm>

int main() {
    // å®šä¹‰ä¸¤ä¸ªå·²æ’åºçš„å®¹å™¨
    std::vector<int> vec1 = {1, 2, 3, 4, 5};
    std::vector<int> vec2 = {3, 4, 5, 6, 7};

    // åˆ›å»ºä¸€ä¸ªå®¹å™¨ç”¨äºå­˜å‚¨äº¤é›†ç»“æœ
    std::vector<int> intersection;

    // æ±‚äº¤é›†ï¼Œstd::set_intersection éœ€è¦è¾“å…¥å·²æ’åºçš„å®¹å™¨
    std::set_intersection(vec1.begin(), vec1.end(), 
                          vec2.begin(), vec2.end(), 
                          std::back_inserter(intersection));

    // è¾“å‡ºäº¤é›†ç»“æœ
    std::cout << "Intersection: ";
    for (int num : intersection) {
        std::cout << num << " ";
    }

    return 0;
}
```

### è§£é‡Šï¼š

1. **`std::set_intersection`**ï¼šå®ƒéœ€è¦ä¸¤ä¸ªå·²æ’åºçš„å®¹å™¨ï¼ˆ`vec1` å’Œ `vec2`ï¼‰ï¼Œå¹¶å°†å®ƒä»¬çš„äº¤é›†å†™å…¥åˆ°ç¬¬ä¸‰ä¸ªå®¹å™¨ï¼ˆ`intersection`ï¼‰ä¸­ã€‚
2. **`std::back_inserter`**ï¼šè¿™ä¸ªè¿­ä»£å™¨å¯ä»¥å°†ç»“æœæ’å…¥åˆ° `intersection` å®¹å™¨ä¸­ï¼Œé¿å…ä½ æå‰å®šä¹‰å®¹å™¨çš„å¤§å°ã€‚

### è¾“å‡ºï¼š

```
makefile


å¤åˆ¶ç¼–è¾‘
Intersection: 3 4 5
```

### æ³¨æ„äº‹é¡¹ï¼š

- **æ’åº**ï¼š`std::set_intersection` è¦æ±‚è¾“å…¥çš„ä¸¤ä¸ªå®¹å™¨å¿…é¡»æ˜¯å·²æ’åºçš„ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ `std::vector` æˆ–å…¶ä»–å®¹å™¨ï¼Œå¯ä»¥åœ¨è°ƒç”¨ `set_intersection` ä¹‹å‰å…ˆå¯¹å®¹å™¨è¿›è¡Œæ’åºã€‚

  ```
  cppå¤åˆ¶ç¼–è¾‘std::sort(vec1.begin(), vec1.end());
  std::sort(vec2.begin(), vec2.end());
  ```

- **æ³›å‹**ï¼š`std::set_intersection` æ˜¯ä¸€ä¸ªæ³›å‹ç®—æ³•ï¼Œå¯ä»¥åº”ç”¨äºä»»ä½•æ”¯æŒæ¯”è¾ƒæ“ä½œçš„å®¹å™¨æˆ–å…ƒç´ ç±»å‹ã€‚å¦‚æœä½ è¦å¯¹å…¶ä»–ç±»å‹çš„å®¹å™¨æ±‚äº¤é›†ï¼Œåªéœ€ç¡®ä¿å®ƒä»¬æ˜¯æ’åºè¿‡çš„ï¼Œå¹¶ä¸”å…ƒç´ ç±»å‹æ”¯æŒ `operator<` æ¯”è¾ƒã€‚

### éæ’åºå®¹å™¨çš„äº¤é›†

å¦‚æœä¸¤ä¸ªå®¹å™¨æ²¡æœ‰æ’åºï¼Œå¯ä»¥å…ˆä½¿ç”¨ `std::sort` å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œç„¶åå†ä½¿ç”¨ `std::set_intersection`ã€‚å¦‚æœä½ ä¸å¸Œæœ›æ’åºåŸå§‹å®¹å™¨ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ `std::unordered_set`ï¼Œä½†éœ€è¦è‡ªå·±ç¼–å†™ç®—æ³•æ¥å¤„ç†æ— åºçš„é›†åˆäº¤é›†ã€‚

